<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Affirmation Generator & Breath Timer</title>

<style>
  :root {
    --bg-lightness: 12%; /* background brightness for breathing */
  }

  /* ---------------- BODY ---------------- */
  body {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: hsl(200, 20%, var(--bg-lightness));
    transition: background 1s linear;
    display: flex;
    justify-content: center;
    align-items: center; /* vertical centering */
    height: 100vh;
    width: 100vw;
    color: #e0e0e0;
  }

  /* ---------------- MAIN FLEX CONTAINER ---------------- */
  #main-container {
    display: flex;
    justify-content: center;
    align-items: stretch; /* make containers same height */
    gap: 40px;
    flex-wrap: wrap; /* responsive on small screens */
  }

  /* ---------------- BOX CONTAINERS ---------------- */
  .container {
    background: #2c2c2c;
    padding: 30px 40px;
    border-radius: 16px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    text-align: center;
    width: 420px;        /* exact outer width */
    min-height: 500px;   /* exact outer height */
    display: flex;
    flex-direction: column;
    align-items: center;
    box-sizing: border-box;
  }

  h1,h2,h3 { margin-bottom: 16px; color: #f0f0f0; }
  p { margin: 12px 0; }

  select, button {
    padding: 10px 14px;
    border-radius: 8px;
    border: none;
    font-size: 1rem;
    outline: none;
  }

  select {
    background: #3a3a3a;
    color: #e0e0e0;
    margin-bottom: 12px;
  }

  .button-row {
    display: flex;
    justify-content: center;
    gap: 8px;
    flex-wrap: wrap;
    margin-top: 12px;
  }

  button {
    background: #6a5acd;
    color: #ffffff;
    cursor: pointer;
    transition: background 0.2s ease, transform 0.1s ease;
  }

  button:hover {
    background: #7b66e0;
    transform: translateY(-2px);
  }

 



  /* ---------------- AFFIRMATION TEXT ---------------- */
  #affirmation {
    font-size: 2rem;
    font-weight: bold;
    text-align: center;
    transition: color 0.3s, transform 0.3s;
    min-height: 60px;
  }

  /* ---------------- BREATH TIMER ---------------- */

#phase-name {
  font-size: 2.5rem;       /* slightly bigger text */
  font-weight: bold;
  margin-bottom: 10px;     /* moves it up a bit from the countdown and circle */
  transition: transform 1s linear, color 1s linear;
}

#phase-countdown {
  font-size: 3.5rem;       /* bigger number */
  font-weight: bold;
  margin-top: -10px;       /* lifts it slightly so it doesn't touch the circle */
  transition: transform 1s linear, color 1s linear;
}


  #breath-timer-container {
    width: 420px;
    min-width: 420px;
    box-sizing: border-box;
  }

  #phase-instructions {
    font-size: 1.2rem;
    color: #c0c0c0;
    min-height: 60px;
    margin-top: 10px;
    text-align: center;
    opacity: 0;
    transition: opacity 0.5s;
    width: 100%;
    box-sizing: border-box;
  }

  #breath-circle {
    background-color: transparent;
    border: 8px solid #6a5acd;
    border-radius: 50%;
    transition: transform 1s linear;
    margin: 20px 0 60px 0;
    width: 120px;
    height: 120px;
    box-sizing: border-box;
  }

  /* ---------------- CONFETTI ---------------- */
  .confetti {
    position: absolute;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    pointer-events: none;
    animation: confetti-fall 1s forwards;
  }

  @keyframes confetti-fall {
    0% { transform: translateY(0) rotate(0deg); opacity: 1; }
    100% { transform: translateY(150px) rotate(360deg); opacity: 0; }
  }

</style>
</head>
<body>

<div id="main-container">

  <!-- AFFIRMATION GENERATOR -->
  <div class="container">
    <h1>Affirmation Generator</h1>
    <p id="affirmation"></p>
    <select id="category">
      <option value="motivation">Motivation</option>
      <option value="calm">Calm</option>
      <option value="confidence">Confidence</option>
    </select>
    <div class="button-row">
      <button id="get-affirmation">Get Affirmation</button>
      <button id="random-affirmation">Surprise Me!</button>
      
    </div>
    <!-- DAILY INTENTION -->
<div style="margin-top: 16px; width: 100%; text-align: center;">
  <h3>Daily Intention</h3>
  <p id="intentionDisplay" style="font-style: italic; min-height: 24px;"></p>
  <input id="intentionInput" type="text" placeholder="Set your intention..." style="width: 100%; padding: 8px; border-radius: 8px; border: none; margin-top: 6px;">
  <button id="saveIntention" style="margin-top: 8px;">Save Intention</button>
</div>

<!-- MOOD CHECK-IN -->
<div style="margin-top: 20px; width: 100%; text-align: center;">
  <h3>Mood Check-In</h3>
  <select id="moodSelect">
    <option value="">How are you feeling?</option>
    <option value="calm">Calm</option>
    <option value="anxious">Anxious</option>
    <option value="tired">Tired</option>
    <option value="focused">Focused</option>
    <option value="low">Low</option>
  </select>
  <p id="moodResponse" style="margin-top: 10px; font-style: italic; color: #cfcfcf;"></p>
</div>
  </div>

  <!-- BREATH TIMER -->
  <div class="container" id="breath-timer-container">
    <h2>Breath Timer</h2>
    <label for="presetSelect" style="margin-bottom: 8px;">Choose Preset:</label>
    <select id="presetSelect"></select>
    <div id="phase-instructions"></div>
    <p id="phase-name">Press Start</p>
    <p id="phase-countdown">0</p>
    <div id="breath-circle"></div>
    <div class="button-row">
      <button id="start-timer">Start</button>
      <button id="stop-timer">Stop</button>
    </div>
    <audio id="beep-sound">
      <source src="https://www.soundjay.com/buttons/sounds/beep-07.mp3" type="audio/mpeg">
    </audio>
  </div>

</div>

<script>
document.addEventListener("DOMContentLoaded", ()=>{

  /* ---------------- DAILY INTENTION ---------------- */
const intentionInput = document.getElementById("intentionInput");
const intentionDisplay = document.getElementById("intentionDisplay");
const saveIntentionBtn = document.getElementById("saveIntention");

function loadIntention() {
  const saved = localStorage.getItem("dailyIntention");
  if (saved) intentionDisplay.innerText = `"${saved}"`;
}

saveIntentionBtn.addEventListener("click", () => {
  const text = intentionInput.value.trim();
  if (!text) return;
  localStorage.setItem("dailyIntention", text);
  intentionDisplay.innerText = `"${text}"`;
  intentionInput.value = "";
});

loadIntention();

/* ---------------- MOOD CHECK-IN ---------------- */
const moodSelect = document.getElementById("moodSelect");
const moodResponse = document.getElementById("moodResponse");

const moodMessages = {
  calm: "Stay present and enjoy this peaceful energy.",
  anxious: "You're safe — take slow breaths.",
  tired: "Rest is productive. Be gentle with yourself.",
  focused: "Keep going — you're in a good flow.",
  low: "It's okay to move slowly today."
};

moodSelect.addEventListener("change", () => {
  const mood = moodSelect.value;
  moodResponse.innerText = moodMessages[mood] || "";
});

  /* ---------------- AFFIRMATIONS ---------------- */
  const affirmationEl = document.getElementById("affirmation");
  const categoryEl = document.getElementById("category");
  
  const affirmations = {
    motivation: ["You are capable of amazing things.","Your potential is limitless.","Every day is a fresh start."],
    calm: ["Breathe deeply and let go.","Peace begins within.","You are relaxed and centered."],
    confidence: ["You are strong and confident.","You believe in yourself.","Your confidence inspires others."]
  };

  const colors = ["#FF6B6B","#FFD93D","#6BCB77","#4D96FF","#FF6AD5"];
  function randomColor(){ return colors[Math.floor(Math.random()*colors.length)]; }

  function showAffirmation(list){
    const index = Math.floor(Math.random()*list.length);
    affirmationEl.innerText = list[index];
    affirmationEl.style.color = randomColor();
    affirmationEl.style.transform = "scale(1.2)";
    setTimeout(()=> affirmationEl.style.transform="scale(1)",300);

    for(let i=0;i<10;i++){
      const confetti = document.createElement("div");
      confetti.className="confetti";
      confetti.style.left = `${affirmationEl.offsetLeft + Math.random()*affirmationEl.offsetWidth}px`;
      confetti.style.top = `${affirmationEl.offsetTop}px`;
      confetti.style.background = randomColor();
      document.body.appendChild(confetti);
      setTimeout(()=>confetti.remove(),1000);
    }
  }

  document.getElementById("get-affirmation").addEventListener("click",()=>showAffirmation(affirmations[categoryEl.value]));
  document.getElementById("random-affirmation").addEventListener("click",()=>{
    const keys=Object.keys(affirmations);
    const randomCat = keys[Math.floor(Math.random()*keys.length)];
    showAffirmation(affirmations[randomCat]);
  });
  



  /* ---------------- BREATH TIMER ---------------- */


  
 const breathPresets = {
  "Box Breathing (4-4-4-4)": [
    {name:"Inhale",duration:4},
    {name:"Hold",duration:4},
    {name:"Exhale",duration:4},
    {name:"Hold",duration:4}
  ],

  "Calming (4-7-8-7)": [
    {name:"Inhale",duration:4},
    {name:"Hold",duration:7},
    {name:"Exhale",duration:8},
    {name:"Hold",duration:7}
  ],

  "Triangle Breathing (4-4-4-0)": [
    {name:"Inhale",duration:4},
    {name:"Hold",duration:4},
    {name:"Exhale",duration:4},
    {name:"Reset",duration:0}
  ],

  "Balanced Breath (5-1-5-1)": [
    {name:"Inhale",duration:5},
    {name:"Pause",duration:1},
    {name:"Exhale",duration:5},
    {name:"Pause",duration:1}
  ],

  "Pursed Lip Reset (2-1-4-1)": [
    {name:"Inhale",duration:2},
    {name:"Pause",duration:1},
    {name:"Exhale",duration:4},
    {name:"Pause",duration:1}
  ],

  "The Calming Anchor (3-3-6-2)": [
    {name:"Inhale",duration:3},
    {name:"Hold",duration:3},
    {name:"Exhale",duration:6},
    {name:"Pause",duration:2}
  ],

  "Power Breathing (1-1-1-1)": [
    {name:"Inhale",duration:1},
    {name:"Hold",duration:1},
    {name:"Exhale",duration:1},
    {name:"Hold",duration:1}
  ],

  "Morning Wake-Up (6-2-2-1)": [
    {name:"Inhale",duration:6},
    {name:"Hold",duration:2},
    {name:"Exhale",duration:2},
    {name:"Pause",duration:1}
  ],

  "Ocean Breath — Ujjayi (4-1-4-1)": [
    {name:"Inhale",duration:4},
    {name:"Lock",duration:1},
    {name:"Exhale",duration:4},
    {name:"Lock",duration:1}
  ],

  "The Deep Dive (4-2-8-2)": [
    {name:"Inhale",duration:4},
    {name:"Hold",duration:2},
    {name:"Exhale",duration:8},
    {name:"Hold",duration:2}
  ]
};

  const presetPhasesText = {

  "Box Breathing (4-4-4-4)": [
    "Inhale slowly through your nose for 4 counts.",
    "Hold your breath for 4 counts.",
    "Exhale slowly through your mouth for 4 counts.",
    "Hold again for 4 counts."
  ],

  "Calming (4-7-8-7)": [
    "Inhale for 4 seconds.",
    "Hold for 7 seconds.",
    "Exhale for 8 seconds.",
    "Hold again for 7 seconds."
  ],

  "Triangle Breathing (4-4-4-0)": [
    "Inhale deeply through the nose for 4 counts.",
    "Hold the air in your lungs for 4 counts.",
    "Exhale every bit of air for 4 counts.",
    "Begin the next inhale immediately with no hold."
  ],

  "Balanced Breath (5-1-5-1)": [
    "Inhale for a steady count of 5.",
    "Pause briefly for 1 count.",
    "Exhale for a steady count of 5.",
    "Pause briefly for 1 count."
  ],

  "Pursed Lip Reset (2-1-4-1)": [
    "Inhale quickly through the nose for 2 counts.",
    "Hold the breath for 1 count.",
    "Exhale through puckered lips for 4 counts.",
    "Rest for 1 count."
  ],

  "The Calming Anchor (3-3-6-2)": [
    "Inhale while expanding the belly for 3 counts.",
    "Hold the fullness for 3 counts.",
    "Exhale slowly to release tension for 6 counts.",
    "Wait for 2 counts before the next breath."
  ],

  "Power Breathing (1-1-1-1)": [
    "Inhale sharply through the nose for 1 count.",
    "Hold the tension for 1 count.",
    "Exhale sharply through the mouth for 1 count.",
    "Hold the emptiness for 1 count."
  ],

  "Morning Wake-Up (6-2-2-1)": [
    "Inhale a very long breath for 6 counts.",
    "Hold the oxygen in for 2 counts.",
    "Exhale in a quick burst for 2 counts.",
    "Pause for 1 count."
  ],

  "Ocean Breath — Ujjayi (4-1-4-1)": [
    "Inhale through the nose for 4 counts.",
    "Lock the breath for 1 count.",
    "Exhale through the nose with a hum for 4 counts.",
    "Lock the breath for 1 count."
  ],

  "The Deep Dive (4-2-8-2)": [
    "Inhale and fill the lungs for 4 counts.",
    "Hold the breath still for 2 counts.",
    "Exhale as slowly as possible for 8 counts.",
    "Hold the empty state for 2 counts."
  ]
};


 const presetSelect = document.getElementById("presetSelect");
Object.keys(breathPresets).forEach(name => {
  const option = document.createElement("option");
  option.value = name; 
  option.textContent = name;
  presetSelect.appendChild(option);
});

const phaseNameEl = document.getElementById("phase-name");
const phaseCountdownEl = document.getElementById("phase-countdown");
const instructionsEl = document.getElementById("phase-instructions");
const beepSound = document.getElementById("beep-sound");
const breathCircle = document.getElementById("breath-circle");

let phases = [...breathPresets[presetSelect.value]];
let currentPhase = 0, remainingTime = 0, timerInterval = null;

function updateCircle() {
  const phase = phases[currentPhase];

  // Default hold color
  let textColor = "#6BCB77"; // green

  // INHALE — expand visuals
  if (phase.name === "Inhale") {
    breathCircle.style.transition = `transform ${phase.duration}s linear`;
    breathCircle.style.transform = "scale(1.5)";

    phaseNameEl.style.transition = `transform ${phase.duration}s linear, color ${phase.duration}s linear`;
    phaseCountdownEl.style.transition = `transform ${phase.duration}s linear, color ${phase.duration}s linear`;

    phaseNameEl.style.transform = "translateY(-30px) scale(1.15)";
phaseCountdownEl.style.transform = "translateY(-30px) scale(1.35)";
phaseNameEl.style.color = "#4D96FF"; // inhale = blue
phaseCountdownEl.style.color = "#4D96FF";

    document.body.style.transition = `background ${phase.duration}s linear`;
    document.body.style.setProperty('--bg-lightness', '25%');
  }

  // EXHALE — contract visuals
  else if (phase.name === "Exhale") {
    breathCircle.style.transition = `transform ${phase.duration}s linear`;
    breathCircle.style.transform = "scale(0.7)";

    phaseNameEl.style.transition = `transform ${phase.duration}s linear, color ${phase.duration}s linear`;
    phaseCountdownEl.style.transition = `transform ${phase.duration}s linear, color ${phase.duration}s linear`;

    phaseNameEl.style.transform = "translateY(-30px) scale(0.95)";
phaseCountdownEl.style.transform = "translateY(-30px) scale(0.75)";
phaseNameEl.style.color = "#FF6B6B"; // exhale = orange
phaseCountdownEl.style.color = "#FF6B6B";

    document.body.style.transition = `background ${phase.duration}s linear`;
    document.body.style.setProperty('--bg-lightness', '8%');
  }

  // HOLD / PAUSE — steady
  else {
    breathCircle.style.transition = "none";
    phaseNameEl.style.transition = "none";
    phaseCountdownEl.style.transition = "none";

    textColor = "#6BCB77"; // green

    if (phases[currentPhase - 1]?.name === "Inhale") {
      breathCircle.style.transform = "scale(1.5)";
      phaseNameEl.style.transform = "scale(1.15)";
      phaseCountdownEl.style.transform = "scale(1.35)";
      document.body.style.setProperty('--bg-lightness', '25%');
    } else {
      breathCircle.style.transform = "scale(0.7)";
      phaseNameEl.style.transform = "scale(0.95)";
      phaseCountdownEl.style.transform = "scale(0.75)";
      document.body.style.setProperty('--bg-lightness', '8%');
    }
  }

  // Apply colors
  phaseNameEl.style.color = textColor;
  phaseCountdownEl.style.color = textColor;
}

function startBreathTimer() {
  if (timerInterval) return;
  const selected = presetSelect.value;
  phases = breathPresets[selected].map(p => ({ ...p }));
  currentPhase = 0; remainingTime = phases[0].duration;
  phaseNameEl.innerText = phases[0].name;
  phaseCountdownEl.innerText = remainingTime;
  instructionsEl.style.opacity = 0;
  setTimeout(() => { instructionsEl.innerText = presetPhasesText[selected][0]; instructionsEl.style.opacity = 1; }, 100);
  if (beepSound) { beepSound.currentTime = 0; beepSound.play().catch(() => {}); }
  updateCircle();

  timerInterval = setInterval(() => {
    remainingTime--; 
    phaseCountdownEl.innerText = remainingTime;
    if (remainingTime <= 0) {
      currentPhase = (currentPhase + 1) % phases.length;
      remainingTime = phases[currentPhase].duration;
      phaseNameEl.innerText = phases[currentPhase].name;
      phaseCountdownEl.innerText = remainingTime;
      if (beepSound) { beepSound.currentTime = 0; beepSound.play().catch(() => {}); }
      instructionsEl.style.opacity = 0;
      setTimeout(() => { instructionsEl.innerText = presetPhasesText[selected][currentPhase]; instructionsEl.style.opacity = 1; }, 200);
    }
    updateCircle();
  }, 1000);
}

function stopBreathTimer() {
  clearInterval(timerInterval); timerInterval = null;
  phaseNameEl.innerText = "Press Start"; 
  phaseCountdownEl.innerText = 0;
  instructionsEl.style.opacity = 0; 
  breathCircle.style.transform = "scale(1)";
}

document.getElementById("start-timer").addEventListener("click", startBreathTimer);
document.getElementById("stop-timer").addEventListener("click", stopBreathTimer);

presetSelect.addEventListener("change", () => {
  if (timerInterval) { 
    stopBreathTimer(); 
    startBreathTimer(); 
  } else { 
    const selected = presetSelect.value; 
    instructionsEl.style.opacity = 0; 
    setTimeout(() => { instructionsEl.innerText = presetPhasesText[selected][0]; instructionsEl.style.opacity = 1; }, 100);
  }
});

});
</script>
</body>
</html>
